I"¿.<p><a href="../../">ë’¤ë¡œ ê°€ê¸°</a></p>
<h2 id="ë¬¸ì œí•´ì„¤">ë¬¸ì œí•´ì„¤</h2>

<p><a href="https://www.acmicpc.net/problem/16434">ë¬¸ì œ</a>ì˜ ì •ì˜ì— ì˜í•˜ë©´ <strong>ìºë¦­í„°ê°€ ëª¨ë“  ë°©ì„ ëŒ ìˆ˜ ìˆëŠ” ìµœì†Œì˜ HPë¥¼ êµ¬í•˜ëŠ” ê²ƒ</strong>ì´ ëª©í‘œì…ë‹ˆë‹¤.</p>

<blockquote>
  <p>ì œí•œ ì¡°ê±´</p>
  <ul>
    <li>ìºë¦­í„°ì˜ ìƒëª…ë ¥ì€ 1ì´ìƒ ì´ì–´ì•¼ í•œë‹¤.</li>
    <li>ìºë¦­í„°ì˜ ìƒëª…ë ¥ì€ ìµœì†Œ HP ì´ìƒìœ¼ë¡œ ì¦ê°€í•  ìˆ˜ ì—†ë‹¤. í¬ì…˜ì„ ë¨¹ì–´ë„ ê·¸ ì´ìƒìœ¼ë¡œ ì¦ê°€í•  ìˆ˜ ì—†ë‹¤.</li>
    <li>ìºë¦­í„°ê°€ ëª¬ìŠ¤í„°ì—ê²Œ ë§ˆì§€ë§‰ íƒ€ê²©ì„ ê°€í•˜ëŠ” ìˆœê°„, ëª¬ìŠ¤í„°ëŠ” ìºë¦­í„°ì—ê²Œ ë°ë¯¸ì§€ë¥¼ ì¤„ ìˆ˜ ì—†ë‹¤. ë‹¤ì‹œ ë§í•´, <strong><em>ìºë¦­í„°ê°€ n ë²ˆì§¸ íƒ€ê²©ì— ëª¹ì„ ì£½ì˜€ì„ ë•Œ, ëª¹ì€ ìºë¦­í„°ì— n-1ë²ˆì˜ íƒ€ê²©ì„ ì¤€ë‹¤.</em></strong></li>
  </ul>
</blockquote>

<h2 id="ì•„ì´ë””ì–´">ì•„ì´ë””ì–´</h2>

<p>ì´ë¶„ íƒìƒ‰ì„ ì´ìš©í•˜ì—¬ ìµœì†Œ HPë¥¼ êµ¬í•©ë‹ˆë‹¤. ìµœëŒ€ HPëŠ” long long intì˜ ìµœëŒ€ê°’ìœ¼ë¡œ í–ˆê³ , ì´ë¥¼ Hë¼ê³  í–ˆì„ ë•Œ <strong><em>ì‹œê°„ ë³µì¡ë„ëŠ” O(lgH)</em></strong>ì…ë‹ˆë‹¤.</p>

<h2 id="ì•Œê³ ë¦¬ì¦˜">ì•Œê³ ë¦¬ì¦˜</h2>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;limits.h&gt;
#define ll long long int
#define MAX_NUM 123457
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span> 

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>

	<span class="n">ios</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
	<span class="n">cin</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">cout</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="k">struct</span> <span class="n">info</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">t</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">h</span><span class="p">;</span>
    <span class="p">};</span>
    <span class="n">info</span> <span class="n">v</span><span class="p">[</span><span class="n">MAX_NUM</span><span class="p">];</span>

    <span class="kt">int</span> <span class="n">N</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">i</span><span class="p">;</span>

    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">N</span> <span class="o">&gt;&gt;</span> <span class="n">H</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

        <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">t</span> <span class="o">&gt;&gt;</span> <span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="n">h</span><span class="p">;</span>
        <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">h</span> <span class="o">=</span> <span class="n">h</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">ll</span> <span class="n">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">_left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">_right</span> <span class="o">=</span> <span class="n">LLONG_MAX</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">total</span><span class="p">,</span> <span class="n">attack</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">flag</span><span class="p">;</span>

    <span class="k">while</span><span class="p">(</span><span class="n">_left</span> <span class="o">&lt;=</span> <span class="n">_right</span><span class="p">)</span> <span class="p">{</span>    <span class="c1">// ì´ë¶„ íƒìƒ‰ í•©ë‹ˆë‹¤.</span>
    
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">_left</span> <span class="o">+</span> <span class="n">_right</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
        <span class="n">total</span> <span class="o">=</span> <span class="n">mid</span><span class="p">,</span> <span class="n">attack</span> <span class="o">=</span> <span class="n">H</span><span class="p">;</span>

        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">t</span><span class="p">;</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">a</span><span class="p">;</span>
            <span class="n">h</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">h</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">t</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>    <span class="c1">// ëª¹ì„ ìƒëŒ€í•©ë‹ˆë‹¤.</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">h</span> <span class="o">%</span> <span class="n">attack</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// ê³µê²©í–ˆì„ ë•Œ, ë‚˜ë¨¸ì§€ê°€ 0 ì…ë‹ˆë‹¤.</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">total</span> <span class="o">&lt;=</span> <span class="p">((</span><span class="n">h</span> <span class="o">/</span> <span class="n">attack</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">a</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// ë‚´ê°€ ëª¹ë³´ë‹¤ ë¨¼ì € ì£½ì„ ê²½ìš°, ìµœì†Œ HPë¥¼ ëŠ˜ë¦¬ê³  ë‹¤ì‹œ ì´ë¶„íƒìƒ‰ í•©ë‹ˆë‹¤.</span>
                        <span class="n">_left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
                        <span class="n">flag</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                        <span class="k">break</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="n">total</span> <span class="o">-=</span> <span class="p">((</span><span class="n">h</span> <span class="o">/</span> <span class="n">attack</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">a</span><span class="p">;</span>   <span class="c1">// ë‚¨ì€ ì±„ë ¥ì„ ì €ì¥í•©ë‹ˆë‹¤.</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="p">{</span>  <span class="c1">// ê³µê²©í–ˆì„ ë•Œ, ë‚˜ë¨¸ì§€ê°€ 0ì´ ì•„ë‹™ë‹ˆë‹¤.</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">total</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">h</span> <span class="o">/</span> <span class="n">attack</span><span class="p">)</span> <span class="o">*</span> <span class="n">a</span><span class="p">)</span> <span class="p">{</span>    <span class="c1">// ë‚´ê°€ ëª¹ë³´ë‹¤ ë¨¼ì € ì£½ì„ ê²½ìš°, ìµœì†Œ HPë¥¼ ëŠ˜ë¦¬ê³  ë‹¤ì‹œ ì´ë¶„íƒìƒ‰ í•©ë‹ˆë‹¤.</span>
                         <span class="n">_left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
                        <span class="n">flag</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                        <span class="k">break</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="n">total</span> <span class="o">-=</span> <span class="p">(</span><span class="n">h</span> <span class="o">/</span> <span class="n">attack</span><span class="p">)</span> <span class="o">*</span> <span class="n">a</span><span class="p">;</span> <span class="c1">// ë‚¨ì€ ì²´ë ¥ì„ ì €ì¥í•©ë‹ˆë‹¤.</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>  <span class="c1">// potion</span>
                <span class="n">attack</span> <span class="o">+=</span> <span class="n">a</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">total</span> <span class="o">+</span> <span class="n">h</span> <span class="o">&gt;</span> <span class="n">mid</span><span class="p">)</span> <span class="n">total</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
                <span class="k">else</span> <span class="n">total</span> <span class="o">+=</span> <span class="n">h</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">flag</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// ëª¨ë“  ë°©ì„ ëŒê³  ë‚œ í›„, ìµœì†Œ HPë¥¼ ì¤„ì´ê³  ë‹¤ì‹œ ì´ë¶„íƒìƒ‰ í•©ë‹ˆë‹¤.</span>
            <span class="n">_right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
            <span class="n">answer</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">answer</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p><a href="../../">ëª©ë¡</a></p>
:ET